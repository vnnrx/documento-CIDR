<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Guia IPv4 Completo</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    function calcularIPv4() {
      const entrada = document.getElementById('ipInput').value.trim();
      if (!entrada.includes('/')) {
        alert('Digite um IP válido no formato: 192.168.1.10/24');
        return;
      }

      const [ip, prefix] = entrada.split('/');
      const prefixo = parseInt(prefix);
      const octetos = ip.split('.').map(Number);

      if (octetos.length !== 4 || octetos.some(o => o < 0 || o > 255) || prefixo < 0 || prefixo > 32) {
        alert('Formato inválido. Exemplo: 192.168.1.10/24');
        return;
      }

      const ipNum = (octetos[0] << 24) | (octetos[1] << 16) | (octetos[2] << 8) | octetos[3];
      const mask = prefixo === 0 ? 0 : (~0 << (32 - prefixo)) >>> 0;
      const net = ipNum & mask;
      const broadcast = net | (~mask >>> 0);

      function toIP(num) {
        return [
          (num >>> 24) & 255,
          (num >>> 16) & 255,
          (num >>> 8) & 255,
          num & 255
        ].join('.');
      }

      const rede = toIP(net);
      const bc = toIP(broadcast);
      const primeiro = prefixo === 32 ? rede : toIP(net + 1);
      const ultimo = prefixo === 32 ? rede : toIP(broadcast - 1);
      const hosts = prefixo >= 31 ? 0 : Math.pow(2, 32 - prefixo) - 2;

      document.getElementById('resultadoCalc').innerHTML = `
        <p><b>Endereço IP:</b> ${ip}</p>
        <p><b>Máscara:</b> ${toIP(mask)} /${prefixo}</p>
        <p><b>Rede:</b> ${rede}</p>
        <p><b>Broadcast:</b> ${bc}</p>
        <p><b>Primeiro host:</b> ${primeiro}</p>
        <p><b>Último host:</b> ${ultimo}</p>
        <p><b>Total de hosts utilizáveis:</b> ${hosts}</p>
      `;
    }
  </script>
</head>
<body class="bg-gray-100 text-gray-800">
  <header class="bg-blue-700 text-white p-4 shadow-md">
    <h1 class="text-2xl font-bold">Guia IPv4 Completo</h1>
    <nav class="mt-2">
      <ul class="flex gap-4">
        <li><a href="#classes" class="hover:underline">Classes IPv4</a></li>
        <li><a href="#privados" class="hover:underline">Faixas Privadas</a></li>
        <li><a href="#publicos" class="hover:underline">Faixas Públicas</a></li>
        <li><a href="#especiais" class="hover:underline">Endereços Especiais</a></li>
        <li><a href="#barramento" class="hover:underline">Barramento</a></li>
        <li><a href="#calc" class="hover:underline">Calculadora IPv4</a></li>
      </ul>
    </nav>
  </header>

  <main class="p-6 max-w-5xl mx-auto space-y-12">
    <!-- Classes -->
    <section id="classes">
      <h2 class="text-xl font-bold mb-2">Classes IPv4</h2>
      <p>As classes foram definidas para dividir blocos de IP em faixas específicas:</p>
      <ul class="list-disc ml-6 mt-2">
        <li><b>Classe A</b>: 0.0.0.0 – 127.255.255.255 (/8)</li>
        <li><b>Classe B</b>: 128.0.0.0 – 191.255.255.255 (/16)</li>
        <li><b>Classe C</b>: 192.0.0.0 – 223.255.255.255 (/24)</li>
        <li><b>Classe D</b>: 224.0.0.0 – 239.255.255.255 (Multicast)</li>
        <li><b>Classe E</b>: 240.0.0.0 – 255.255.255.255 (Reservado)</li>
      </ul>
    </section>

    <!-- Privados -->
    <section id="privados">
      <h2 class="text-xl font-bold mb-2">Faixas Privadas</h2>
      <ul class="list-disc ml-6">
        <li>10.0.0.0/8</li>
        <li>172.16.0.0/12</li>
        <li>192.168.0.0/16</li>
      </ul>
    </section>

    <!-- Públicos -->
    <section id="publicos">
      <h2 class="text-xl font-bold mb-2">Faixas Públicas</h2>
      <p>Todos os endereços que não pertencem às faixas privadas ou especiais.</p>
    </section>

    <!-- Especiais -->
    <section id="especiais">
      <h2 class="text-xl font-bold mb-2">Endereços Especiais</h2>
      <ul class="list-disc ml-6">
        <li>127.0.0.0/8 → Loopback</li>
        <li>169.254.0.0/16 → Link-Local (APIPA)</li>
        <li>100.64.0.0/10 → CGNAT</li>
        <li>192.0.2.0/24, 198.51.100.0/24, 203.0.113.0/24 → TEST-NET</li>
      </ul>
    </section>

    <!-- Barramento -->
    <section id="barramento">
      <h2 class="text-xl font-bold mb-2">Capacidade ("Barramento")</h2>
      <table class="table-auto border-collapse border border-gray-400 w-full text-sm">
        <thead class="bg-gray-200">
          <tr>
            <th class="border border-gray-400 px-2 py-1">Prefixo</th>
            <th class="border border-gray-400 px-2 py-1">Máscara</th>
            <th class="border border-gray-400 px-2 py-1">Hosts</th>
          </tr>
        </thead>
        <tbody>
          <tr><td class="border px-2">/8</td><td class="border px-2">255.0.0.0</td><td class="border px-2">16.777.214</td></tr>
          <tr><td class="border px-2">/16</td><td class="border px-2">255.255.0.0</td><td class="border px-2">65.534</td></tr>
          <tr><td class="border px-2">/24</td><td class="border px-2">255.255.255.0</td><td class="border px-2">254</td></tr>
        </tbody>
      </table>
    </section>

    <!-- Calculadora -->
    <section id="calc">
      <h2 class="text-xl font-bold mb-2">Calculadora IPv4</h2>
      <div class="bg-white shadow p-4 rounded-xl">
        <input id="ipInput" type="text" placeholder="Digite IP/máscara ex: 192.168.1.10/24" class="w-full p-2 border rounded mb-2">
        <button onclick="calcularIPv4()" class="bg-blue-600 text-white px-4 py-2 rounded">Calcular</button>
        <div id="resultadoCalc" class="mt-4 text-sm"></div>
      </div>
    </section>
  </main>

  <footer class="bg-gray-800 text-white text-center p-4 mt-8">
    <p>Guia IPv4 © 2025</p>
  </footer>
</body>
</html>
